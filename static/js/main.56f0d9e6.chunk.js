(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{27:function(e,t,o){},28:function(e,t,o){},32:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(11),i=o.n(c),s=(o(27),o(6)),r=o(3),l=(o(28),o(35)),u=o(33),d=o(34),p=o(8),b=o(1);o(36),o(13),o(17);var f=o(9),j=o(18),m=o(19),h=o(22),v=o(21),O=o(20),g=o.n(O),C=function(e){Object(h.a)(o,e);var t=Object(v.a)(o);function o(e){var n;return Object(j.a)(this,o),(n=t.call(this,e)).onFileAdded=function(e){console.log("%c file","color: blue; font-weight: 600",e);var t={fileName:e.fileName},o={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"a3a764b7d310151d193116091c038c0eb471ec8b268dd0c6352a78f5ea8f84ca"},body:JSON.stringify(t)};fetch("https://videoservice.disprz.com/v1/videos/multipart/create",o).then((function(e){return e.json()})).then((function(e){n.resumableComponent.defaults.headers={"x-upload-token":e.uploadToken},n.resumableComponent.upload()}))},n.onUploadSuccess=function(e,t){n.resumableComponent.removeFile(e);var o={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/complete",o).then((function(e){return e.json()})).then((function(e){n.props.onUploadComplete(e)}))},n.onUploadProgress=function(e){var t=Math.floor(100*n.resumableComponent.progress());console.log("%c percentage","color: blue; font-weight: 600",t),n.props.onUploadProgress(t)},n.onUploadError=function(e,t){n.resumableComponent.removeFile(e),n.props.onUploadError(JSON.parse(t))},n.onUploadStart=function(){n.props.onUploadStart()},n.onPause=function(){n.props.onPause()},n.onCancel=function(){n.props.onCancel();var e={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/abort",e)},n.addFile=function(e){n.resumableComponent.addFile(e)},n.pause=function(){n.resumableComponent.pause()},n.cancel=function(){n.resumableComponent.cancel()},n.state={},n}return Object(m.a)(o,[{key:"componentDidMount",value:function(){var e=new g.a({target:"https://videoservice.disprz.com/v1/videos/multipart/upload",testChunks:this.props.testChunks||!1,withCredentials:this.props.withCredentials||!1,chunkSize:this.props.chunkSize,prioritizeFirstAndLastChunk:!0,simultaneousUploads:this.props.simultaneousUploads});this.props.browseElement&&e.assignBrowse(this.props.browseElement),e.on("fileAdded",this.onFileAdded),e.on("fileSuccess",this.onUploadSuccess),e.on("progress",this.onUploadProgress),e.on("pause",this.onPause),e.on("cancel",this.onCancel),e.on("fileError",this.onUploadError),this.resumableComponent=e}},{key:"render",value:function(){return null}}]),o}(a.a.PureComponent);C.defaultProps={simultaneousUploads:3,chunkSize:5242880,onUploadStart:function(){},onFileAdded:function(){},onPause:function(){},onUploadComplete:function(){},onUploadSuccess:function(){},onUploadError:function(){},onCancel:function(){},onUploadProgress:function(){}},C.ErrorCodes={MaliciousFile:1e3,MultipleExtension:1001,EmptyContextType:1002,EmptyContextId:1003};var S=C,U=function(e){var t=Object(n.useState)(),o=Object(r.a)(t,2),c=o[0],i=o[1],s=Object(n.useState)(),l=Object(r.a)(s,2),u=l[0],d=l[1],p=a.a.createRef(null),j=Object(f.useReactMediaRecorder)({video:!0,onStop:function(e,t){console.log("%c blob","color: blue; font-weight: 600",t),i(t)}}),m=j.status,h=j.startRecording,v=j.stopRecording,O=j.mediaBlobUrl,g=j.error,C=Object(n.useRef)(null);Object(n.useEffect)((function(){console.log("%c status","color: blue; font-weight: 600",m),"recording"===m?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){C.current&&(C.current.srcObject=e)})):"stopped"===m&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){C.current&&(C.current.srcObject=null)}))}),[m]),Object(n.useEffect)((function(){var e;c&&(c.name="video.mov",null===p||void 0===p||null===(e=p.current)||void 0===e||e.addFile(c))}),[c,p]);var U=Object(n.useCallback)((function(e){d(e),i(null)}),[]);return Object(b.jsxs)("div",{children:["Video",Object(b.jsx)("p",{style:{marginLeft:20},children:m}),Object(b.jsx)("p",{style:{marginLeft:20},children:g}),Object(b.jsx)("button",{onClick:h,children:"Start Recording"}),Object(b.jsx)("button",{onClick:v,children:"Stop Recording"}),Object(b.jsx)("video",{ref:C,width:200,height:200,autoPlay:!0}),Object(b.jsx)("video",{src:O,width:200,height:200,controls:!0}),Object(b.jsx)(S,{ref:p,onFileAdded:c,onUploadComplete:U}),Object(b.jsx)("a",{href:null===u||void 0===u?void 0:u.videoUrl,children:null===u||void 0===u?void 0:u.videoUrl})]})},k=a.a.memo(U);var w=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),o=Object(n.useState)([{question:"",answer:[{option:""}],img:""}]),a=Object(r.a)(o,2),c=a[0],i=a[1],j=Object(n.useState)(!0),m=Object(r.a)(j,2),h=(m[0],m[1],Object(n.useState)(0)),v=Object(r.a)(h,2),O=v[0],g=v[1],C=Object(n.useState)(0),S=Object(r.a)(C,2),U=S[0],w=S[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("data"));e&&0!==(null===e||void 0===e?void 0:e.length)?i(e):i([{question:"",answer:[{option:""}],img:""}])}),[]),Object(n.useEffect)((function(){Object(p.a)(e.current)})),Object(n.useCallback)((function(e){g(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e.push({question:"",answer:[{option:""}],img:""}),i(e),localStorage.setItem("data",JSON.stringify(e)),g(e.length-1),setTimeout((function(){t.current.scrollToBottom()}),200)}),[c]),Object(n.useCallback)((function(e){var t,o=Object(s.a)(c);o.splice(O,1),0===(null===(t=o)||void 0===t?void 0:t.length)?(i(o=[{question:"",answer:[{option:""}],img:""}]),localStorage.setItem("data",JSON.stringify(o))):(i(o),localStorage.setItem("data",JSON.stringify(o))),e()}),[O,c]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].question=e.nativeEvent.target.value,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].answer[U].option=e.nativeEvent.target.value,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O,U]),Object(n.useCallback)((function(){var e=Object(s.a)(c);if(e[O].answer.length<6){e[O].answer.push({option:""}),i(e),localStorage.setItem("data",JSON.stringify(e))}}),[c,O]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[O].answer.splice(U,1),i(e),localStorage.setItem("data",JSON.stringify(e))}),[c,O,U]),Object(n.useCallback)((function(e){w(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[O].img=null,i(e),localStorage.setItem("data",JSON.stringify(e))}),[c,O,U]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].img=e,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O,U]);var x=Object(f.useReactMediaRecorder)({video:!0}),y=(x.status,x.startRecording,x.stopRecording,x.mediaBlobUrl);return x.error,console.log("%c mediaBlobUrl","color: blue; font-weight: 600",y),Object(b.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(k,{})})}),Object(b.jsx)(d.a,{})]}),Object(b.jsx)("div",{})]})},x=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,37)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;o(e),n(e),a(e),c(e),i(e)}))};o(31);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(w,{})}),document.getElementById("root")),x()}},[[32,1,2]]]);
//# sourceMappingURL=main.56f0d9e6.chunk.js.map