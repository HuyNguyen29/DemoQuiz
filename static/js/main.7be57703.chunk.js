(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{27:function(e,t,o){},28:function(e,t,o){},32:function(e,t,o){"use strict";o.r(t);var n=o(0),a=o.n(n),c=o(11),r=o.n(c),s=(o(27),o(6)),i=o(3),l=(o(28),o(35)),u=o(33),d=o(34),p=o(8),b=o(1);o(36),o(13),o(17);var f=o(9),g=o(18),h=o(19),m=o(22),j=o(21),O=o(20),v=o.n(O),S=function(e){Object(m.a)(o,e);var t=Object(j.a)(o);function o(){var e;Object(g.a)(this,o);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).onFileAdded=function(t){console.log("%c file","color: blue; font-weight: 600",t);var o={fileName:t.fileName},n={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"a3a764b7d310151d193116091c038c0eb471ec8b268dd0c6352a78f5ea8f84ca"},body:JSON.stringify(o)};fetch("https://videoservice.disprz.com/v1/videos/multipart/create",n).then((function(e){return e.json()})).then((function(t){e.resumableComponent.defaults.headers={"x-upload-token":t.uploadToken},e.resumableComponent.upload()}))},e.onUploadSuccess=function(t,o){e.resumableComponent.removeFile(t);var n={method:"GET",headers:e.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/complete",n).then((function(e){return e.json()})).then((function(t){console.log("%c data complete","color: blue; font-weight: 600",t),alert(t),e.props.onUploadComplete(t)}))},e.onUploadProgress=function(t){var o=Math.floor(100*e.resumableComponent.progress());console.log("%c percentage","color: blue; font-weight: 600",o),e.props.onUploadProgress(o)},e.onUploadError=function(t,o){console.log("%c message","color: blue; font-weight: 600",o),alert(o),e.resumableComponent.removeFile(t),e.props.onUploadError(JSON.parse(o))},e.onUploadStart=function(){e.props.onUploadStart()},e.onPause=function(){e.props.onPause()},e.onCancel=function(){e.props.onCancel();var t={method:"GET",headers:e.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/abort",t)},e.addFile=function(t){e.resumableComponent.addFile(t)},e.pause=function(){e.resumableComponent.pause()},e.cancel=function(){e.resumableComponent.cancel()},e}return Object(h.a)(o,[{key:"componentDidMount",value:function(){var e=new v.a({target:"https://videoservice.disprz.com/v1/videos/multipart/upload",testChunks:this.props.testChunks||!1,withCredentials:this.props.withCredentials||!1,chunkSize:this.props.chunkSize,prioritizeFirstAndLastChunk:!0,simultaneousUploads:this.props.simultaneousUploads});this.props.browseElement&&e.assignBrowse(this.props.browseElement),e.on("fileAdded",this.onFileAdded),e.on("fileSuccess",this.onUploadSuccess),e.on("progress",this.onUploadProgress),e.on("pause",this.onPause),e.on("cancel",this.onCancel),e.on("fileError",this.onUploadError),this.resumableComponent=e}},{key:"render",value:function(){return null}}]),o}(a.a.Component);S.defaultProps={simultaneousUploads:3,chunkSize:5242880,onUploadStart:function(){},onFileAdded:function(){},onPause:function(){},onUploadComplete:function(){},onUploadSuccess:function(){},onUploadError:function(){},onCancel:function(){},onUploadProgress:function(){}},S.ErrorCodes={MaliciousFile:1e3,MultipleExtension:1001,EmptyContextType:1002,EmptyContextId:1003};var C=S,w=function(e){var t=Object(n.useState)(),o=Object(i.a)(t,2),c=o[0],r=o[1],s=a.a.createRef(null),l=Object(f.useReactMediaRecorder)({video:!0,onStop:function(e,t){console.log("%c blob","color: blue; font-weight: 600",t),r(t)}}),u=l.status,d=l.startRecording,p=l.stopRecording,g=l.mediaBlobUrl,h=l.error,m=Object(n.useRef)(null);return Object(n.useEffect)((function(){console.log("%c status","color: blue; font-weight: 600",u),"recording"===u?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){m.current&&(m.current.srcObject=e)})):"stopped"===u&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){m.current&&(m.current.srcObject=null)}))}),[u]),Object(n.useEffect)((function(){var e;(console.log("%c refUpload","color: blue; font-weight: 600",s),c)&&(console.log("%c video","color: blue; font-weight: 600",c),c.name="video.mov",null===s||void 0===s||null===(e=s.current)||void 0===e||e.addFile(c))}),[c,s]),Object(b.jsxs)("div",{children:["Video",Object(b.jsx)("p",{style:{marginLeft:20},children:u}),Object(b.jsx)("p",{style:{marginLeft:20},children:h}),Object(b.jsx)("button",{onClick:d,children:"Start Recording"}),Object(b.jsx)("button",{onClick:p,children:"Stop Recording"}),Object(b.jsx)("video",{ref:m,width:200,height:200,autoPlay:!0}),Object(b.jsx)("video",{src:g,width:200,height:200,controls:!0}),Object(b.jsx)(C,{ref:s,onFileAdded:c})]})},k=a.a.memo(w);var U=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),o=Object(n.useState)([{question:"",answer:[{option:""}],img:""}]),a=Object(i.a)(o,2),c=a[0],r=a[1],g=Object(n.useState)(!0),h=Object(i.a)(g,2),m=(h[0],h[1],Object(n.useState)(0)),j=Object(i.a)(m,2),O=j[0],v=j[1],S=Object(n.useState)(0),C=Object(i.a)(S,2),w=C[0],U=C[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("data"));e&&0!==(null===e||void 0===e?void 0:e.length)?r(e):r([{question:"",answer:[{option:""}],img:""}])}),[]),Object(n.useEffect)((function(){Object(p.a)(e.current)})),Object(n.useCallback)((function(e){v(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e.push({question:"",answer:[{option:""}],img:""}),r(e),localStorage.setItem("data",JSON.stringify(e)),v(e.length-1),setTimeout((function(){t.current.scrollToBottom()}),200)}),[c]),Object(n.useCallback)((function(e){var t,o=Object(s.a)(c);o.splice(O,1),0===(null===(t=o)||void 0===t?void 0:t.length)?(r(o=[{question:"",answer:[{option:""}],img:""}]),localStorage.setItem("data",JSON.stringify(o))):(r(o),localStorage.setItem("data",JSON.stringify(o))),e()}),[O,c]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].question=e.nativeEvent.target.value,r(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].answer[w].option=e.nativeEvent.target.value,r(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O,w]),Object(n.useCallback)((function(){var e=Object(s.a)(c);if(e[O].answer.length<6){e[O].answer.push({option:""}),r(e),localStorage.setItem("data",JSON.stringify(e))}}),[c,O]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[O].answer.splice(w,1),r(e),localStorage.setItem("data",JSON.stringify(e))}),[c,O,w]),Object(n.useCallback)((function(e){U(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[O].img=null,r(e),localStorage.setItem("data",JSON.stringify(e))}),[c,O,w]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[O].img=e,r(t),localStorage.setItem("data",JSON.stringify(t))}),[c,O,w]);var y=Object(f.useReactMediaRecorder)({video:!0}),x=(y.status,y.startRecording,y.stopRecording,y.mediaBlobUrl);return y.error,console.log("%c mediaBlobUrl","color: blue; font-weight: 600",x),Object(b.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(k,{})})}),Object(b.jsx)(d.a,{})]}),Object(b.jsx)("div",{})]})},y=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,37)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,r=t.getTTFB;o(e),n(e),a(e),c(e),r(e)}))};o(31);r.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(U,{})}),document.getElementById("root")),y()}},[[32,1,2]]]);
//# sourceMappingURL=main.7be57703.chunk.js.map