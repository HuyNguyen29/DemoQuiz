(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{27:function(e,t,o){},28:function(e,t,o){},32:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),i=o(11),s=o.n(i),c=(o(27),o(6)),r=o(3),l=(o(28),o(35)),u=o(33),d=o(34),p=o(8),b=o(0);o(36),o(13),o(17);var f=o(9),h=o(18),j=o(19),v=o(22),g=o(21),m=o(20),O=o.n(m),S=function(e){Object(v.a)(o,e);var t=Object(g.a)(o);function o(e){var n;return Object(h.a)(this,o),(n=t.call(this,e)).onFileAdded=function(e){console.log("%c file","color: blue; font-weight: 600",e);var t={fileName:e.fileName},o={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"a3a764b7d310151d193116091c038c0eb471ec8b268dd0c6352a78f5ea8f84ca"},body:JSON.stringify(t)};fetch("https://videoservice.disprz.com/v1/videos/multipart/create",o).then((function(e){return e.json()})).then((function(e){n.resumableComponent.defaults.headers={"x-upload-token":e.uploadToken},n.resumableComponent.upload()}))},n.onUploadSuccess=function(e,t){n.resumableComponent.removeFile(e);var o={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/complete",o).then((function(e){return e.json()})).then((function(e){console.log("%c data complete","color: blue; font-weight: 600",e),alert(JSON.stringify(e)),n.setState(e),n.props.onUploadComplete(e)}))},n.onUploadProgress=function(e){var t=Math.floor(100*n.resumableComponent.progress());console.log("%c percentage","color: blue; font-weight: 600",t),n.props.onUploadProgress(t)},n.onUploadError=function(e,t){console.log("%c message","color: blue; font-weight: 600",t),alert(t),n.resumableComponent.removeFile(e),n.props.onUploadError(JSON.parse(t))},n.onUploadStart=function(){n.props.onUploadStart()},n.onPause=function(){n.props.onPause()},n.onCancel=function(){n.props.onCancel();var e={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/abort",e)},n.addFile=function(e){n.resumableComponent.addFile(e)},n.pause=function(){n.resumableComponent.pause()},n.cancel=function(){n.resumableComponent.cancel()},n.state={data:null},n}return Object(j.a)(o,[{key:"componentDidMount",value:function(){var e=new O.a({target:"https://videoservice.disprz.com/v1/videos/multipart/upload",testChunks:this.props.testChunks||!1,withCredentials:this.props.withCredentials||!1,chunkSize:this.props.chunkSize,prioritizeFirstAndLastChunk:!0,simultaneousUploads:this.props.simultaneousUploads});this.props.browseElement&&e.assignBrowse(this.props.browseElement),e.on("fileAdded",this.onFileAdded),e.on("fileSuccess",this.onUploadSuccess),e.on("progress",this.onUploadProgress),e.on("pause",this.onPause),e.on("cancel",this.onCancel),e.on("fileError",this.onUploadError),this.resumableComponent=e}},{key:"render",value:function(){var e,t,o,n,a,i;return console.log("%c this.state.data","color: blue; font-weight: 600",this.state.data),(null===(e=this.state)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.videoUrl)?Object(b.jsxs)("div",{children:[Object(b.jsxs)("a",{href:null===(o=this.state)||void 0===o||null===(n=o.data)||void 0===n?void 0:n.videoUrl,children:[null===(a=this.state)||void 0===a||null===(i=a.data)||void 0===i?void 0:i.videoUrl,"V"]}),Object(b.jsx)("div",{children:this.state.data})]}):null}}]),o}(a.a.Component);S.defaultProps={simultaneousUploads:3,chunkSize:5242880,onUploadStart:function(){},onFileAdded:function(){},onPause:function(){},onUploadComplete:function(){},onUploadSuccess:function(){},onUploadError:function(){},onCancel:function(){},onUploadProgress:function(){}},S.ErrorCodes={MaliciousFile:1e3,MultipleExtension:1001,EmptyContextType:1002,EmptyContextId:1003};var C=S,w=function(e){var t=Object(n.useState)(),o=Object(r.a)(t,2),i=o[0],s=o[1],c=a.a.createRef(null),l=Object(f.useReactMediaRecorder)({video:!0,onStop:function(e,t){console.log("%c blob","color: blue; font-weight: 600",t),s(t)}}),u=l.status,d=l.startRecording,p=l.stopRecording,h=l.mediaBlobUrl,j=l.error,v=Object(n.useRef)(null);return Object(n.useEffect)((function(){console.log("%c status","color: blue; font-weight: 600",u),"recording"===u?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){v.current&&(v.current.srcObject=e)})):"stopped"===u&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){v.current&&(v.current.srcObject=null)}))}),[u]),Object(n.useEffect)((function(){var e;(console.log("%c refUpload","color: blue; font-weight: 600",c),i)&&(console.log("%c video","color: blue; font-weight: 600",i),i.name="video.mov",null===c||void 0===c||null===(e=c.current)||void 0===e||e.addFile(i))}),[i,c]),Object(b.jsxs)("div",{children:["Video",Object(b.jsx)("p",{style:{marginLeft:20},children:u}),Object(b.jsx)("p",{style:{marginLeft:20},children:j}),Object(b.jsx)("button",{onClick:d,children:"Start Recording"}),Object(b.jsx)("button",{onClick:p,children:"Stop Recording"}),Object(b.jsx)("video",{ref:v,width:200,height:200,autoPlay:!0}),Object(b.jsx)("video",{src:h,width:200,height:200,controls:!0}),Object(b.jsx)(C,{ref:c,onFileAdded:i})]})},U=a.a.memo(w);var k=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),o=Object(n.useState)([{question:"",answer:[{option:""}],img:""}]),a=Object(r.a)(o,2),i=a[0],s=a[1],h=Object(n.useState)(!0),j=Object(r.a)(h,2),v=(j[0],j[1],Object(n.useState)(0)),g=Object(r.a)(v,2),m=g[0],O=g[1],S=Object(n.useState)(0),C=Object(r.a)(S,2),w=C[0],k=C[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("data"));e&&0!==(null===e||void 0===e?void 0:e.length)?s(e):s([{question:"",answer:[{option:""}],img:""}])}),[]),Object(n.useEffect)((function(){Object(p.a)(e.current)})),Object(n.useCallback)((function(e){O(e)}),[]),Object(n.useCallback)((function(){var e=Object(c.a)(i);e.push({question:"",answer:[{option:""}],img:""}),s(e),localStorage.setItem("data",JSON.stringify(e)),O(e.length-1),setTimeout((function(){t.current.scrollToBottom()}),200)}),[i]),Object(n.useCallback)((function(e){var t,o=Object(c.a)(i);o.splice(m,1),0===(null===(t=o)||void 0===t?void 0:t.length)?(s(o=[{question:"",answer:[{option:""}],img:""}]),localStorage.setItem("data",JSON.stringify(o))):(s(o),localStorage.setItem("data",JSON.stringify(o))),e()}),[m,i]),Object(n.useCallback)((function(e){var t=Object(c.a)(i);t[m].question=e.nativeEvent.target.value,s(t),localStorage.setItem("data",JSON.stringify(t))}),[i,m]),Object(n.useCallback)((function(e){var t=Object(c.a)(i);t[m].answer[w].option=e.nativeEvent.target.value,s(t),localStorage.setItem("data",JSON.stringify(t))}),[i,m,w]),Object(n.useCallback)((function(){var e=Object(c.a)(i);if(e[m].answer.length<6){e[m].answer.push({option:""}),s(e),localStorage.setItem("data",JSON.stringify(e))}}),[i,m]),Object(n.useCallback)((function(){var e=Object(c.a)(i);e[m].answer.splice(w,1),s(e),localStorage.setItem("data",JSON.stringify(e))}),[i,m,w]),Object(n.useCallback)((function(e){k(e)}),[]),Object(n.useCallback)((function(){var e=Object(c.a)(i);e[m].img=null,s(e),localStorage.setItem("data",JSON.stringify(e))}),[i,m,w]),Object(n.useCallback)((function(e){var t=Object(c.a)(i);t[m].img=e,s(t),localStorage.setItem("data",JSON.stringify(t))}),[i,m,w]);var x=Object(f.useReactMediaRecorder)({video:!0}),y=(x.status,x.startRecording,x.stopRecording,x.mediaBlobUrl);return x.error,console.log("%c mediaBlobUrl","color: blue; font-weight: 600",y),Object(b.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(U,{})})}),Object(b.jsx)(d.a,{})]}),Object(b.jsx)("div",{})]})},x=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,37)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;o(e),n(e),a(e),i(e),s(e)}))};o(31);s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(k,{})}),document.getElementById("root")),x()}},[[32,1,2]]]);
//# sourceMappingURL=main.d995d72b.chunk.js.map