(this.webpackJsonpquiz=this.webpackJsonpquiz||[]).push([[0],{27:function(e,t,o){},28:function(e,t,o){},32:function(e,t,o){"use strict";o.r(t);var n=o(1),a=o.n(n),c=o(11),i=o.n(c),s=(o(27),o(6)),r=o(3),l=(o(28),o(35)),u=o(33),d=o(34),p=o(8),b=o(0);o(36),o(13),o(17);var f=o(9),h=o(18),j=o(19),v=o(22),g=o(21),m=o(20),O=o.n(m),S=function(e){Object(v.a)(o,e);var t=Object(g.a)(o);function o(e){var n;return Object(h.a)(this,o),(n=t.call(this,e)).onFileAdded=function(e){console.log("%c file","color: blue; font-weight: 600",e);var t={fileName:e.fileName},o={method:"POST",headers:{"Content-Type":"application/json","x-api-key":"a3a764b7d310151d193116091c038c0eb471ec8b268dd0c6352a78f5ea8f84ca"},body:JSON.stringify(t)};fetch("https://videoservice.disprz.com/v1/videos/multipart/create",o).then((function(e){return e.json()})).then((function(e){n.resumableComponent.defaults.headers={"x-upload-token":e.uploadToken},n.resumableComponent.upload()}))},n.onUploadSuccess=function(e,t){n.resumableComponent.removeFile(e);var o={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/complete",o).then((function(e){return e.json()})).then((function(e){console.log("%c data complete","color: blue; font-weight: 600",e),n.setState(e),n.props.onUploadComplete(e),alert(JSON.stringify(e))}))},n.onUploadProgress=function(e){var t=Math.floor(100*n.resumableComponent.progress());console.log("%c percentage","color: blue; font-weight: 600",t),n.props.onUploadProgress(t)},n.onUploadError=function(e,t){console.log("%c message","color: blue; font-weight: 600",t),alert(t),n.resumableComponent.removeFile(e),n.props.onUploadError(JSON.parse(t))},n.onUploadStart=function(){n.props.onUploadStart()},n.onPause=function(){n.props.onPause()},n.onCancel=function(){n.props.onCancel();var e={method:"GET",headers:n.resumableComponent.defaults.headers};fetch("https://videoservice.disprz.com/v1/videos/multipart/abort",e)},n.addFile=function(e){n.resumableComponent.addFile(e)},n.pause=function(){n.resumableComponent.pause()},n.cancel=function(){n.resumableComponent.cancel()},n.state={data:null},n}return Object(j.a)(o,[{key:"componentDidMount",value:function(){var e=new O.a({target:"https://videoservice.disprz.com/v1/videos/multipart/upload",testChunks:this.props.testChunks||!1,withCredentials:this.props.withCredentials||!1,chunkSize:this.props.chunkSize,prioritizeFirstAndLastChunk:!0,simultaneousUploads:this.props.simultaneousUploads});this.props.browseElement&&e.assignBrowse(this.props.browseElement),e.on("fileAdded",this.onFileAdded),e.on("fileSuccess",this.onUploadSuccess),e.on("progress",this.onUploadProgress),e.on("pause",this.onPause),e.on("cancel",this.onCancel),e.on("fileError",this.onUploadError),this.resumableComponent=e}},{key:"render",value:function(){var e,t;return console.log("%c this.state.data","color: blue; font-weight: 600",this.state.data),Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{children:JSON.stringify(this.state.data)}),Object(b.jsx)("div",{children:null===(e=this.state.data)||void 0===e?void 0:e.videoId}),Object(b.jsx)("div",{children:null===(t=this.state.data)||void 0===t?void 0:t.videoUrl})]})}}]),o}(a.a.Component);S.defaultProps={simultaneousUploads:3,chunkSize:5242880,onUploadStart:function(){},onFileAdded:function(){},onPause:function(){},onUploadComplete:function(){},onUploadSuccess:function(){},onUploadError:function(){},onCancel:function(){},onUploadProgress:function(){}},S.ErrorCodes={MaliciousFile:1e3,MultipleExtension:1001,EmptyContextType:1002,EmptyContextId:1003};var C=S,w=function(e){var t=Object(n.useState)(),o=Object(r.a)(t,2),c=o[0],i=o[1],s=Object(n.useState)(),l=Object(r.a)(s,2),u=l[0],d=l[1],p=a.a.createRef(null),h=Object(f.useReactMediaRecorder)({video:!0,onStop:function(e,t){console.log("%c blob","color: blue; font-weight: 600",t),i(t)}}),j=h.status,v=h.startRecording,g=h.stopRecording,m=h.mediaBlobUrl,O=h.error,S=Object(n.useRef)(null);Object(n.useEffect)((function(){console.log("%c status","color: blue; font-weight: 600",j),"recording"===j?navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){S.current&&(S.current.srcObject=e)})):"stopped"===j&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){S.current&&(S.current.srcObject=null)}))}),[j]),Object(n.useEffect)((function(){var e;(console.log("%c refUpload","color: blue; font-weight: 600",p),c)&&(console.log("%c video","color: blue; font-weight: 600",c),c.name="video.mov",null===p||void 0===p||null===(e=p.current)||void 0===e||e.addFile(c))}),[c,p]);return Object(b.jsxs)("div",{children:["Video",Object(b.jsx)("p",{style:{marginLeft:20},children:j}),Object(b.jsx)("p",{style:{marginLeft:20},children:O}),Object(b.jsx)("button",{onClick:v,children:"Start Recording"}),Object(b.jsx)("button",{onClick:g,children:"Stop Recording"}),Object(b.jsx)("video",{ref:S,width:200,height:200,autoPlay:!0}),Object(b.jsx)("video",{src:m,width:200,height:200,controls:!0}),Object(b.jsx)(C,{ref:p,onFileAdded:c,onUploadComplete:function(e){d(e)}}),Object(b.jsx)("div",{children:null===u||void 0===u?void 0:u.videoUrl})]})},U=a.a.memo(w);var x=function(){var e=Object(n.useRef)(null),t=Object(n.useRef)(null),o=Object(n.useState)([{question:"",answer:[{option:""}],img:""}]),a=Object(r.a)(o,2),c=a[0],i=a[1],h=Object(n.useState)(!0),j=Object(r.a)(h,2),v=(j[0],j[1],Object(n.useState)(0)),g=Object(r.a)(v,2),m=g[0],O=g[1],S=Object(n.useState)(0),C=Object(r.a)(S,2),w=C[0],x=C[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("data"));e&&0!==(null===e||void 0===e?void 0:e.length)?i(e):i([{question:"",answer:[{option:""}],img:""}])}),[]),Object(n.useEffect)((function(){Object(p.a)(e.current)})),Object(n.useCallback)((function(e){O(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e.push({question:"",answer:[{option:""}],img:""}),i(e),localStorage.setItem("data",JSON.stringify(e)),O(e.length-1),setTimeout((function(){t.current.scrollToBottom()}),200)}),[c]),Object(n.useCallback)((function(e){var t,o=Object(s.a)(c);o.splice(m,1),0===(null===(t=o)||void 0===t?void 0:t.length)?(i(o=[{question:"",answer:[{option:""}],img:""}]),localStorage.setItem("data",JSON.stringify(o))):(i(o),localStorage.setItem("data",JSON.stringify(o))),e()}),[m,c]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[m].question=e.nativeEvent.target.value,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,m]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[m].answer[w].option=e.nativeEvent.target.value,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,m,w]),Object(n.useCallback)((function(){var e=Object(s.a)(c);if(e[m].answer.length<6){e[m].answer.push({option:""}),i(e),localStorage.setItem("data",JSON.stringify(e))}}),[c,m]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[m].answer.splice(w,1),i(e),localStorage.setItem("data",JSON.stringify(e))}),[c,m,w]),Object(n.useCallback)((function(e){x(e)}),[]),Object(n.useCallback)((function(){var e=Object(s.a)(c);e[m].img=null,i(e),localStorage.setItem("data",JSON.stringify(e))}),[c,m,w]),Object(n.useCallback)((function(e){var t=Object(s.a)(c);t[m].img=e,i(t),localStorage.setItem("data",JSON.stringify(t))}),[c,m,w]);var k=Object(f.useReactMediaRecorder)({video:!0}),y=(k.status,k.startRecording,k.stopRecording,k.mediaBlobUrl);return k.error,console.log("%c mediaBlobUrl","color: blue; font-weight: 600",y),Object(b.jsxs)(l.a,{fluid:!0,className:"p-0",children:[Object(b.jsxs)(u.a,{children:[Object(b.jsx)(d.a,{children:Object(b.jsx)(u.a,{children:Object(b.jsx)(U,{})})}),Object(b.jsx)(d.a,{})]}),Object(b.jsx)("div",{})]})},k=function(e){e&&e instanceof Function&&o.e(3).then(o.bind(null,37)).then((function(t){var o=t.getCLS,n=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;o(e),n(e),a(e),c(e),i(e)}))};o(31);i.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(x,{})}),document.getElementById("root")),k()}},[[32,1,2]]]);
//# sourceMappingURL=main.fb9518af.chunk.js.map